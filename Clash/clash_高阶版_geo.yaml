port: 7890
log-level: error
socks-port: 7891
redir-port: 7892
tproxy-port: 7895
mixed-port: 7893
ipv6: true
allow-lan: true
mode: rule
external-controller: 0.0.0.0:9090
secret: 94ZOYO94
bind-address: "*"
find-process-mode: strict
unified-delay: true
tcp-concurrent: true

keep-alive-interval: 15
keep-alive-idle: 900
geo-update-interval: 168
geodata-mode: true
geo-auto-update: true
geox-url:
  geoip: https://cdn.jsdelivr.net/gh/Loyalsoldier/geoip@release/geoip.dat
  geosite: https://cdn.jsdelivr.net/gh/Loyalsoldier/v2ray-rules-dat@release/geosite.dat
  mmdb: https://cdn.jsdelivr.net/gh/Loyalsoldier/geoip@release/GeoLite2-Country.mmdb
  asn: https://cdn.jsdelivr.net/gh/Loyalsoldier/geoip@release/GeoLite2-ASN.mmdb
  
dns:
  enable: true
  ipv6: true
  respect-rules: false
  listen: 0.0.0.0:7874
  use-hosts: false
  use-system-hosts: false
  enhanced-mode: redir-host
  fake-ip-range: 198.18.0.1/16
  fake-ip-filter:
    - '*'
    - '+.lan'
    - '+.local'
  nameserver:
  - quic://dns.alidns.com
  - https://doh.pub/dns-query
  fallback:
  - 8.8.8.8
  - 8.8.4.4
  - tls://1.0.0.1:853
  - tls://dns.google:853
tun:
  enable: true
  stack: mixed
  device: utun
  strict-route: true
  auto-route: true
  auto-detect-interface: true
  dns-hijack:
  - tcp://any:53
hosts:
  #'engage.cloudflareclient.com': 192.168.0.1

profile:
  store-selected: true
  store-fake-ip: true
  
authentication:
- ZOYO:L5TJbhcm
# åˆ†ç»„
pr: &pr 
  { type: select,
    proxies:
      [DIRECT,ðŸš€ èŠ‚ç‚¹é€‰æ‹©ä¸€, ðŸš€ èŠ‚ç‚¹é€‰æ‹©äºŒï¼ˆæŽ’HKï¼‰, HK, TW, SG, JP, US, ETC],
  }
#è§„åˆ™è®¢é˜…
rp: &rp 
  { type: http, behavior: classical, interval: 86400}
# å»¶è¿Ÿæ£€æµ‹ URL
p: &p 
  { type: http,
    interval: 86400,
    health-check:
      {
        enable: true,
        url: http://www.apple.com/library/test/success.html,
        interval: 600,
        lazy: true,
        timeout: 5000,
        max-failed-times: 5
      },
  }

use: &use
  type: select
  use:
    - sub
    
proxies:

proxy-providers:
    sub: {<<: *p, url: "è®¢é˜…åœ°å€", path: "./proxy_provider/auto.yaml"}

proxy-groups:
  - { name: ðŸš€ èŠ‚ç‚¹é€‰æ‹©ä¸€,
      type: select,
      proxies:
        [DIRECT, â™»ï¸ è‡ªåŠ¨é€‰æ‹©, HK, TW, SG, JP, US, ETC],
    }
  - { name: ðŸš€ èŠ‚ç‚¹é€‰æ‹©äºŒï¼ˆæŽ’HKï¼‰,
      type: select,
      proxies:
        [DIRECT, â™»ï¸ è‡ªåŠ¨é€‰æ‹©(æŽ’HK), ðŸš€ èŠ‚ç‚¹é€‰æ‹©ä¸€, HK, TW, SG, JP, US, ETC],
    }
  - { name: â™»ï¸ è‡ªåŠ¨é€‰æ‹©, 
      type: url-test,
      proxies:
        [HK, TW, SG, JP, US, ETC],
      url: http://www.gstatic.com/generate_204,
      interval: '0',
      lazy: true,
      timeout: 5000,
      max-failed-times: 5
    }
  - { name: â™»ï¸ è‡ªåŠ¨é€‰æ‹©(æŽ’HK), 
      type: url-test,
      proxies:
        [TW, SG, JP, US, ETC],
      url: http://www.gstatic.com/generate_204,
      interval: '0',
      lazy: true,
      timeout: 5000,
      max-failed-times: 5
    }
  - { name: å¹¿å‘Šæ‹¦æˆª, type: select, proxies: [DIRECT,REJECT], icon: "https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Advertising.png"}
  - { name: è¿è¥åŠ«æŒ, type: select, proxies: [DIRECT,REJECT], icon: "https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Hijacking.png" }
  - { name: AI, <<: *pr, icon: "https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Bot.png"}
  - { name: TikTok, <<: *pr, icon: "https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/TikTok.png"}
  - { name: Discord, <<: *pr, icon: "https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Magic.png"}  
  - { name: è‹¹æžœæœåŠ¡, <<: *pr, icon: "https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Apple.png"}
  - { name: å›½å¤–æœåŠ¡, <<: *pr, icon: "https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Google_Search.png"}
  - { name: å›½å†…æœåŠ¡, <<: *pr, icon: "https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/China_Map.png"}
  - { name: æ¼ç½‘ä¹‹é±¼, <<: *pr, icon: "https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Final.png"}

  # åˆ†éš”,ä¸‹é¢æ˜¯åœ°åŒºåˆ†ç»„
  - { name: HK, <<: *use, filter: "(?i)æ¸¯|hk|hongkong|hong kong",type: url-test, url: http://www.gstatic.com/generate_204,interval: '300',lazy: true,timeout: 5000,max-failed-times: 5,icon: "https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/HK.png"}
  - { name: TW, <<: *use, filter: "(?i)å°|tw|taiwan|taipei",type: url-test, url: http://www.gstatic.com/generate_204,interval: '300',lazy: true,timeout: 5000,max-failed-times: 5,icon: "https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/TW.png"}
  - { name: JP, <<: *use, filter: "(?i)æ—¥|jp|japan",type: url-test, url: http://www.gstatic.com/generate_204,interval: '300',lazy: true,timeout: 5000,max-failed-times: 5,icon: "https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/JP.png"}
  - { name: US, <<: *use, filter: "(?i)ç¾Ž|us|unitedstates|united states",type: url-test, url: http://www.gstatic.com/generate_204,interval: '300',lazy: true,timeout: 5000,max-failed-times: 5,icon: "https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/US.png"}
  - { name: SG, <<: *use, filter: "(?i)(æ–°|sg|singapore)",type: url-test, url: http://www.gstatic.com/generate_204,interval: '300',lazy: true,timeout: 5000,max-failed-times: 5,icon: "https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/SG.png"}
  - { name: ETC,<<: *use,filter: "(?i)^(?!.*(?:ðŸ‡­ðŸ‡°|ðŸ‡¯ðŸ‡µ|ðŸ‡ºðŸ‡¸|ðŸ‡¸ðŸ‡¬|ðŸ‡¨ðŸ‡³|å‰©ä½™|åˆ°æœŸ|æ¸¯|hk|hongkong|å°|tw|taiwan|taipei|æ—¥|jp|japan|æ–°|sg|singapore|ç¾Ž|us|unitedstates)).*",type: url-test,url: http://www.gstatic.com/generate_204,interval: '300',lazy: true,timeout: 5000,max-failed-times: 5,icon: "https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Loop.png"}
  #- { name: å…¨éƒ¨èŠ‚ç‚¹, <<: *use }

rules:
  - RULE-SET,Direct,å›½å†…æœåŠ¡
  - RULE-SET,Advertising,å¹¿å‘Šæ‹¦æˆª
  - IP-CIDR,1.1.1.1/32,å›½å¤–æœåŠ¡
  - RULE-SET,è¿è¥å•†åŠ«æŒ,è¿è¥åŠ«æŒ

  - RULE-SET,AI,AI
  - GEOSITE,anthropic,AI
  - GEOSITE,tiktok,TikTok
  - GEOSITE,openai,AI
  - GEOSITE,discord,Discord

  - GEOSITE,github,å›½å¤–æœåŠ¡
  - GEOSITE,twitter,å›½å¤–æœåŠ¡
  - GEOSITE,youtube,å›½å¤–æœåŠ¡
  - GEOSITE,facebook,å›½å¤–æœåŠ¡
  - GEOSITE,google,å›½å¤–æœåŠ¡
  - GEOSITE,telegram,å›½å¤–æœåŠ¡
  - GEOSITE,bilibili,å›½å†…æœåŠ¡
  - GEOSITE,apple-cn,è‹¹æžœæœåŠ¡
  - GEOSITE,CN,å›½å†…æœåŠ¡
  - GEOSITE,geolocation-!cn,å›½å¤–æœåŠ¡

  - GEOIP,cloudflare,å›½å¤–æœåŠ¡
  - GEOIP,cloudfront,å›½å¤–æœåŠ¡
  - GEOIP,google,å›½å¤–æœåŠ¡
  - GEOIP,telegram,å›½å¤–æœåŠ¡
  - GEOIP,twitter,å›½å¤–æœåŠ¡
  - GEOIP,CN,å›½å†…æœåŠ¡
  - MATCH,æ¼ç½‘ä¹‹é±¼

rule-providers:
  Direct: {<<: *rp, path: "./rule_provider/Direct.yaml",url: "https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Direct/Direct.yaml"}
  Advertising: {<<: *rp, path: "./rule_provider/Advertising.yaml",url: "https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Advertising/Advertising.yaml"}
  è¿è¥å•†åŠ«æŒ: {<<: *rp, path: "./rule_provider/è¿è¥å•†åŠ«æŒ.yaml",url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Hijacking/Hijacking.yaml"}
  AI:
    type: http
    behavior: classical
    interval: 86400
    path: "./rule_provider/AI.txt"
    format: text
    url: https://ruleset.skk.moe/Clash/non_ip/ai.txt
